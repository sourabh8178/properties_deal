<div class="row">
  <div class="col-md-12">
    <div class="card card-plain">
      <div class="card-header card-header-primary">
        <h4 class="card-title mt-0">Users&nbsp; <span><%= link_to "Add New User", new_admin_user_path, class: "btn btn-btn" %></span></h4>
				<form class="form">
          <input placeholder='search by email' id="search_profile" onkeyup="myFunction()" type='text' style="border-radius: 7px;">
          <button class='btn btn-link search-btn'>
            <i class="bi bi-search"></i>
          </button>
        </form>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover">
					  <thead class="">
					    <th>Email</th>
							<th>Role</th>
							<th colspan="3">Action</th>             
					  </thead>
					  <tbody id="mytable">
					    <% @users.each do |user| %>
								<tr>
									<td><%= user.email %></td>
									<td><%= user.role %></td>
									<td><%= link_to "show", admin_user_path(user), class: "btn btn-btn" %></td>
								  <td><%= link_to "Edit", edit_admin_user_path(user), class: "btn btn-success" %></td>
								  <td><%= button_to 'Destroy', admin_user_path(user), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %></td>
								</tr>
							<% end %>
					  </tbody>
					</table>
        </div>
      </div>
    </div>
  </div>
</div>
<style type="text/css">
  .btn-btn,
  .btn-btn:hover,
  .btn-btn:active,
  .btn-btn:visited,
  .btn-btn:focus {
      background-color: #2e8c6e;
      border-color: #2e8c6e;
      color: white;
  }
</style>
<script>
	function myFunction() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("search_profile");
    filter = input.value.toUpperCase();
    table = document.getElementById("mytable");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[1];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }       
    }
  }
</script>